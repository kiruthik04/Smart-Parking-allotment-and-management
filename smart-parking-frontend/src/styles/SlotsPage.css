/* SlotsPage Styles - Google Maps Inspired (Floating Layout) */

.slots-page-container {
  width: 100%;
  /* Changed from 100vw to prevent scrollbar issues */
  height: 100vh;
  position: relative;
  overflow: hidden;
  /* Ensure no scrollbars on the page itself */
  background: var(--bg-color);
  margin: 0;
  padding: 0;
}

/* Map - Fixed Background */
.slots-map-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

/* Floating Header (Menu Btn Only) */
.slots-floating-header {
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 20;
  pointer-events: none;
}

.slots-menu-btn {
  pointer-events: auto;
  width: 44px;
  height: 44px;
  background: white;
  border: none;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  font-size: 24px;
  color: var(--text-secondary);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: background 0.2s;
}

.slots-menu-btn:hover {
  background: #f9fafb;
  color: var(--text-main);
}

/* Animated Search Bar (Centered) */
.search-wrapper {
  position: absolute;
  top: 40px;
  /* Slight offset from top */
  left: 50%;
  transform: translate(-50%, 0);
  z-index: 50;
}

.search-wrapper .input-holder {
  height: 50px;
  width: 50px;
  overflow: hidden;
  background: rgba(255, 255, 255, 0);
  border-radius: 6px;
  position: relative;
  transition: all 0.3s ease-in-out;
}

.search-wrapper.active .input-holder {
  width: 450px;
  border-radius: 50px;
  background: rgba(0, 0, 0, 0.8);
  /* Dark background as requested */
  transition: all .5s cubic-bezier(0.000, 0.105, 0.035, 1.570);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.search-wrapper .input-holder .search-input {
  width: 100%;
  height: 50px;
  padding: 0 70px 0 20px;
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  background: transparent;
  box-sizing: border-box;
  border: none;
  outline: none;
  font-family: inherit;
  font-size: 16px;
  font-weight: 400;
  line-height: 20px;
  color: #FFF;
  transform: translate(0, 60px);
  transition: all .3s cubic-bezier(0.000, 0.105, 0.035, 1.570);
  transition-delay: 0.3s;
}

.search-wrapper.active .input-holder .search-input {
  opacity: 1;
  transform: translate(0, 0);
  /* Adjusted transform */
}

.search-wrapper .input-holder .search-icon {
  width: 50px;
  height: 50px;
  border: none;
  border-radius: 6px;
  background: #FFF;
  padding: 0;
  outline: none;
  position: relative;
  z-index: 2;
  float: right;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: center;
}

.search-wrapper.active .input-holder .search-icon {
  width: 40px;
  height: 40px;
  margin: 5px;
  border-radius: 30px;
}

.search-wrapper .input-holder .search-icon span {
  width: 22px;
  height: 22px;
  display: inline-block;
  vertical-align: middle;
  position: relative;
  transform: rotate(45deg);
  transition: all .4s cubic-bezier(0.650, -0.600, 0.240, 1.650);
}

.search-wrapper.active .input-holder .search-icon span {
  transform: rotate(-45deg);
}

.search-wrapper .input-holder .search-icon span::before,
.search-wrapper .input-holder .search-icon span::after {
  position: absolute;
  content: '';
}

.search-wrapper .input-holder .search-icon span::before {
  width: 4px;
  height: 11px;
  left: 9px;
  top: 18px;
  border-radius: 2px;
  background: #FE5F55;
}

.search-wrapper .input-holder .search-icon span::after {
  width: 14px;
  height: 14px;
  left: 0px;
  top: 0px;
  border-radius: 16px;
  border: 4px solid #FE5F55;
}

.search-wrapper .close {
  position: absolute;
  z-index: 1;
  top: 12px;
  right: 20px;
  width: 25px;
  height: 25px;
  cursor: pointer;
  transform: rotate(-180deg);
  transition: all .3s cubic-bezier(0.285, -0.450, 0.935, 0.110);
  transition-delay: 0.2s;
  pointer-events: none;
  /* Make clickable only when active */
  opacity: 0;
}

.search-wrapper.active .close {
  right: -40px;
  transform: rotate(45deg);
  transition: all .6s cubic-bezier(0.000, 0.105, 0.035, 1.570);
  transition-delay: 0.5s;
  pointer-events: auto;
  opacity: 1;
}

.search-wrapper .close::before,
.search-wrapper .close::after {
  position: absolute;
  content: '';
  background: #FE5F55;
  border-radius: 2px;
}

.search-wrapper .close::before {
  width: 5px;
  height: 25px;
  left: 10px;
  top: 0px;
}

.search-wrapper .close::after {
  width: 25px;
  height: 5px;
  left: 0px;
  top: 10px;
}

/* Sidebar Drawer - Results & Menu */
.slots-sidebar {
  position: absolute;
  top: 76px;
  /* Below the floating header approx */
  left: 16px;
  bottom: 16px;
  width: clamp(300px, 90vw, 400px);
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 60;
  /* Higher than search wrapper (50) */
  display: flex;
  box-shadow: 4px 0 12px rgba(0, 0, 0, 0.1);
  transform: translateX(-100%);
  transition: transform 0.3s ease-in-out;
  display: flex;
  flex-direction: column;
}

.slots-sidebar.open {
  transform: translateX(0);
}

.slots-sidebar-mobile-header {
  display: none;
  /* Only for mobile */
  padding: 16px;
  border-bottom: 1px solid var(--border-color);
  justify-content: space-between;
  align-items: center;
}

.slots-sidebar-scroll-content {
  flex: 1;
  overflow-y: auto;
  /* Main sidebar scroll */
  padding: 20px;
  display: flex;
  flex-direction: column;
}

.slots-menu-section {
  display: flex;
  flex-direction: column;
  /* List style menu */
  gap: 8px;
}

.slots-menu-chip {
  text-align: left;
  background: none;
  border: none;
  padding: 12px 16px;
  font-size: 16px;
  color: var(--text-main);
  cursor: pointer;
  border-radius: 8px;
  transition: background 0.2s;
  font-weight: 500;
}

.slots-menu-chip:hover {
  background: var(--bg-color);
}

.slots-divider {
  height: 1px;
  background: var(--border-color);
  margin: 16px 0;
}

.slots-results-section {
  display: flex;
  flex-direction: column;
  flex: 1;
  /* Take remaining space */
  overflow: hidden;
  /* Hide overflow of parent */
}

.slots-section-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-main);
  margin-bottom: 12px;
}

/* Scrollable Container for Slot Cards */
/* This assumes there's a container wrapper or we apply to the list itself if direct children */
/* Looking at JSX, slots are direct children of .slots-results-section after the title */
/* We might need to wrap them or just target specific logic. */
/* Let's try making .slots-results-section flex column and setting a scroll on a list wrapper if existing or create one */
/* Actually, .slots-sidebar-scroll-content already scrolls the whole sidebar. 
   User wants sticky title and scrollable list? 
   "scroll bar just for the available slot list" implies the list scrolls independently.
   So let's modify JSX to wrap list, or style the section to scroll.
*/


.slots-list-container {
  overflow-y: auto;
  max-height: calc(100vh - 250px);
  /* Dynamic height based on header/menu */
  padding-right: 8px;
  /* Space for scrollbar */
}

/* Custom scrollbar for neatness */
.slots-list-container::-webkit-scrollbar {
  width: 6px;
}

.slots-list-container::-webkit-scrollbar-track {
  background: transparent;
}

.slots-list-container::-webkit-scrollbar-thumb {
  background-color: #cbd5e1;
  border-radius: 10px;
}

.slots-list-container::-webkit-scrollbar-thumb:hover {
  background-color: #94a3b8;
}

.slots-empty-state {
  padding: 20px;
  text-align: center;
  color: var(--text-secondary);
}

/* Right Detail Panel */
.slots-detail-panel {
  position: absolute;
  top: 16px;
  left: 432px;
  /* 16px + 400px sidebar + 16px gap */
  bottom: 16px;
  width: 360px;
  background: var(--card-bg);
  /* Theme aware background */
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  animation: slideInLeft 0.3s ease;
  overflow: hidden;
  z-index: 60;
  /* Ensure it is above search bar (z-index: 50) */
  border: 1px solid var(--border-color);
  /* Add border for better definition */
}

@keyframes slideInLeft {
  from {
    transform: translateX(-20px);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.slots-detail-header {
  padding: 16px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  gap: 12px;
}

.slots-back-btn {
  background: none;
  border: none;
  color: var(--primary-color);
  font-weight: 600;
  cursor: pointer;
  padding: 0;
  font-size: 14px;
}

.slots-detail-header h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-main);
}

.slots-detail-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}

/* Loading */
.slots-loading {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(255, 255, 255, 0.8);
  z-index: 100;
}

/* Responsive */
@media (max-width: 768px) {
  .slots-floating-header {
    width: calc(100% - 32px);
  }

  /* Fix SEARCH BAR on Mobile */
  .search-wrapper {
    top: 80px;
    left: 16px;
    transform: none;
    width: 60px;
    /* Start small (icon size + padding) */
    max-width: 280px;
    z-index: 5;
    transition: width 0.5s ease;
    /* Animate container width too */
  }

  .search-wrapper.active {
    width: 280px;
    /* Expand to full mobile width */
    z-index: 60;
  }

  .search-wrapper.active .input-holder {
    width: 100%;
    /* Fill the expanded container */
  }

  .search-wrapper .input-holder .search-input {
    width: 100%;
    padding-right: 40px;
    /* Prevent text hitting close button */
  }

  .search-wrapper .close {
    right: 10px;
    /* Inside the screen */
    top: 12px;
  }

  .slots-sidebar {
    top: 0;
    left: 0;
    bottom: 0;
    width: 100%;
    border-radius: 0;
    z-index: 999;
    /* Max z-index to cover search bar */
    /* Cover everything */
    transform: translateX(-100%);
    /* Ensure it is hidden by default */
  }

  .slots-sidebar.open {
    transform: translateX(0);
    /* Show when open */
  }

  .slots-sidebar:not(.open) {
    transform: translateX(-100%);
  }

  .slots-sidebar-mobile-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    border-bottom: 1px solid var(--border-color);
  }

  .slots-sidebar-mobile-header h3 {
    margin: 0;
    font-size: 18px;
  }

  .slots-close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
  }

  /* Fix Detail Panel on Mobile */
  .slots-detail-panel {
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    border-radius: 0;
    z-index: 2000;
    /* Ensure strictly on top of everything including sidebar(999) */
    padding-bottom: env(safe-area-inset-bottom);

    /* Animation for Mobile: Slide Up */
    animation: slideInUpMobile 0.3s ease-out forwards;
  }

  /* Define mobile slide up animation */
  @keyframes slideInUpMobile {
    from {
      transform: translateY(100%);
    }

    to {
      transform: translateY(0);
    }
  }

  /* When active (it's conditionally rendered so this is implicit), ensure it stays visible */

}